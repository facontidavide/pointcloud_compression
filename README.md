# Experimental software to benchmark PCL compression

Lossy compression for pointclouds generated by LIDARs.
Currently:

- It preserves the number of points and their order.
- No voxelization.
- Limitation: works only for `pcl::PointXYZ` and `pcl::PointXYZI` (will be extended to other types).

Vanilla lossless ZSTD and LZ4 compression are added just for reference.

Work in progress. Nevertheless, **YOU** can help.

Run this app on an existing rosbag containing a `sensors_msgs/PointCloud2` message generated by a LIDAR.

In [Releases](https://github.com/facontidavide/pointcloud_compression/releases), you should find an AppImage that can run directly in Ubuntu 22.04.

The first command line argument is the path to the rosbag.

Expected output (example):

```
Topic: /pandar_xt_32_0_lidar
  Count: 100
  [LZ4]  ratio: 0.529 time (usec): 2664
  [ZSTD] ratio: 0.474 time (usec): 5521
  [Lossy + LZ4]  ratio: 0.230 time (usec): 3348
  [Lossy + ZSTD] ratio: 0.197 time (usec): 4568
```

## Aboput the Lossy compression

A quantization of 1mm is applied to the X, Y, Z channels. All the other channels have no loss in accuracy.
